set(SQL_LAYER "" CACHE STRING "SQL backend [mysql, psql, oracle]")
set(SQL_HOME "" CACHE STRING "Path to SQL installation")

if (SQL_LAYER)
    if (NOT SQL_HOME STREQUAL "")
        if (SQL_LAYER STREQUAL mysql)
            set(STLIBPATH_SQL "${SQL_HOME}/lib/mysql")
            set(INCLUDES_SQL "${SQL_HOME}/include/mysql")
        else()
            set(STLIBPATH_SQL "${SQL_HOME}/lib")
            set(INCLUDES_SQL "${SQL_HOME}/include")
        endif()
    endif()

    if (SQL_LAYER STREQUAL "mysql")
        if (SQL_HOME STREQUAL "")
            list(APPEND STLIBPATH_SQL "/usr/lib/mysql")
            list(APPEND INCLUDES_SQL "/usr/include/mysql")
        endif()
        set(CXX_FLAGS_SQL -DUSE_MYSQL)
        set(LIB_SQL mysqlclient_r)
    elseif (SQL_LAYER STREQUAL "psql")
        set(CXX_FLAGS_SQL -DUSE_PGSQL)
        set(LIB_SQL psql)
    elseif (SQL_LAYER STREQUAL "oracle")
        set(CXX_FLAGS_SQL -DUSE_ORACLE)
        set(LIB_SQL psql)
    endif()
endif()

set(STLIBPATH_SQL ${STLIBPATH_SQL} CACHE INTERNAL "")
set(INCLUDES_SQL ${INCLUDES_SQL} CACHE INTERNAL "")
set(CXX_FLAGS_SQL ${CXX_FLAGS_SQL} CACHE INTERNAL "")
set(LIB_SQL ${LIB_SQL} CACHE INTERNAL "")
